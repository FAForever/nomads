--blueprint ids used for each keygroup. This is merged in to avoid hardcoding stuff.
Nomadsunitkeygroups = {

    ["Builders"] = {
        "xnl0301",
    },
    ["AA"] = {
        "xnl0303", -- Nomads T3 Hover Tank
    },
    ["Torpedo"] = {
        "xnl0305", -- Nomads Heavy Tank
    },
    ["TML"] = {
        "xnl0209", -- Nomads T3 Mobile Missile Defense
    },
    ["Experimental"] = {
        --Nomads
        "xnl0402", -- Beamer
        "xnl0403", -- Crawler
        "xnl0401", -- Bullfrog
        "xna0401", -- Altas
		"xnb2302", -- Countdown
		"xno2302", -- Deadline
    },
    -- Buildings
    ["Land_Factory"] = {
        "xnb0101",
    },
    ["Air_Factory"] = {
        "xnb0102",
    },
    ["Naval_Factory"] = {
        "xnb0103",
    },
    ["T2_Support_Land_Factory"] = {
        "znb9501",
    },
    ["T2_Support_Air_Factory"] = {
        "znb9502",
    },
    ["T2_Support_Naval_Factory"] = {
        "znb9503",
    },
    ["T3_Support_Land_Factory"] = {
        "znb9601",
    },
    ["T3_Support_Air_Factory"] = {
        "znb9602",
    },
    ["T3_Support_Naval_Factory"] = {
        "znb9603",
    },
    ["Quantum_Gateway"] = {
        "xnb0304",
    },
    ["Power_Generator"] = {
        "xnb1301",
        "xnb1201",
        "xnb1101",
    },
    ["Hydrocarbon_Power_Plant"] = {
        "xnb1102",
    },
    ["Mass_Extractor"] = {
        "xnb1302",
        "xnb1202",
        "xnb1103",
    },
    ["Mass_Fabricator"] = {
        "xnb1104",
        "xnb1303",
    },
    ["Energy_Storage"] = {
        "xnb1105",
    },
    ["Mass_Storage"] = {
        "xnb1106",
    },
    ["Point_Defense"] = {
        "xnb2301",
        "xnb2101",
    },
    ["Anti_Air"] = {
        "xnb4201",
        "xnb2202",
        "xnb2102",
    },
    ["Tactical_Missile_Launcher"] = {
        "xnb2208",
    },
    ["Torpedo_Launcher"] = {
        "xnb2207",
        "xnb2109",
    },
    ["Heavy_Artillery_Installation"] = {
        "xnb3303",
    },
    ["Artillery_Installation"] = {
        "xnb2303",  -- projectile artillery
    },
    ["Strategic_Missile_Launcher"] = {
        "xnb2305",
    },
    ["Radar_System"] = {
        "xnb3201",
        "xnb3101",
    },
    ["Sonar_System"] = {
        "xnb3202",
        "xnb3102",
    },
    ["Omni_Sensor"] = {
        "xnb3301",
    },
    ["Tactical_Missile_Defense"] = {
        "xnb4204",
    },
    ["Shield_Generator"] = {
        "xnb4202",
		"xnb4205",
    },
    ["Heavy_Shield_Generator"] = {
        "xnb4305",
    },
    ["Strategic_Missile_Defense"] = {
        "xnb4302",
    },
    ["Wall_Section"] = {
        "xnb5101",
    },
    ["Air_Staging"] = {
        "xnb5202",
    },
    ["Sonar_Platform"] = {
        "xnb3302",
    },
    ["T2_Fighter/Bomber"] = {
        "xna0202",
    },
    ["T1_Air_Scout"] = {
        "xna0101",
    },
    ["T1_Interceptor"] = {
        "xna0102",
    },
    ["T1_Attack_Bomber"] = {
        "xna0103",
    },
    ["T2_Air_Transport"] = {
        "xna0104",
    },
    ["T1_Light_Air_Transport"] = {
        "xna0107",
    },
    ["T2_Gunship"] = {
        "xna0203",
    },
    ["T2_Torpedo_Bomber"] = {
        "xna0203",
    },
    ["T3_Spy_Plane"] = {
        "xna0302",
    },
    ["T3_Air_Superiority_Fighter"] = {
        "xna0303",
    },
    ["T3_Strategic_Bomber"] = {
        "xna0304",
    },
    ["T1_Land_Scout"] = {
        "xnl0101",
    },
    ["T1_Mobile_Light_Artillery"] = {
        "xnl0107",
    },
    ["T1_Mobile_Anti_Air_Gun"] = {
        "xnl0103",
    },
    ["T1_Engineer"] = {
        "xnl0105",
    },
    ["T1_Light_Assault_Bot"] = {
        "xnl0106",
    },
    ["T2_Mobile_Missile_Launcher"] = {
        "xnl0111",
    },
    ["T1_Tank"] = {
        "xnl0201",
    },
    ["T2_Heavy_Tank"] = {
        "xnl0202",
    },
    ["T2_Mobile_AA_Flak_Artillery"] = {
        "xnl0205",
    },
    ["T3_Mobile_AA"] = {
        "xnl0302", -- Nomads Anti Air
    },
    ["T2_Engineer"] = {
        "xnl0208",
    },
    ["T3_Tank"] = {
        "xnl0303",
    },
    ["T3_Mobile_Heavy_Artillery"] = {
        "xnl0304",
    },
    ["T2_Mobile_Shield_Generator"] = {
        "xnl0306",
    },
    ["T3_Engineer"] = {
        "xnl0309",
    },
    ["T1_Frigate"] = {
        "xns0103",
    },
    ["T2_Destroyer"] = {
        "xns0201",
    },
    ["T2_Cruiser"] = {
        "xns0202",
    },
    ["T1_Attack_Submarine"] = {
        "xns0203",
    },
    ["T3_Battleship"] = {
        "xns0302",  -- heavy destroyer
    },
    ["T3_Aircraft_Carrier"] = {
        'xns0303',  -- carrier
    },
    ["T3_Strategic_Missile_Submarine"] = {
        'xns0304',  -- T3 sub
    },
    ["T3_Heavy_Gunship"] = {
        "xna0305",
    },
    ["T2_Amphibious_Tank"] = {
        'xnl0203',  -- fast assault tank
    },
    ["T2_Field_Engineer"] = {
        "xnl0209",
    },
    ["T2_Torpedo_Boat"] = {
        "xns0102",
    },
    ["T1_Light_Gunship"] = {
        "xna0105",
    },
}

--since we are merging unordered tables that contain ordered tables, we need to merge them manually instead of table.merged or whatever
function MergeTables(unitkeygroups, Nomadsunitkeygroups)
    local newKeyGroups = table.copy(Nomadsunitkeygroups)
    local newTable = {}
    for k,v in unitkeygroups do
        if Nomadsunitkeygroups[k] then
            newTable[k] = table.cat(unitkeygroups[k],Nomadsunitkeygroups[k])
            newKeyGroups[k] = nil
        else
            newTable[k] = unitkeygroups[k]
        end
    end
    
    for k,v in newKeyGroups do
        if not newTable[k] then
            newTable[k] = Nomadsunitkeygroups[k]
        end
    end
    return newTable
end

unitkeygroups = MergeTables(unitkeygroups, Nomadsunitkeygroups)
